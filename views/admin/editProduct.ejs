
<!DOCTYPE html>
<html lang="en">
   
<!-- Mirrored from freshcart.codescandy.com/dashboard/add-product.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 22 Mar 2024 09:08:58 GMT -->
<head>
      <!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="Codescandy" name="author">
      <title>Add Product Dashboard eCommerce HTML Template - FreshCart</title>
      <link href="../libs/dropzone/dist/min/dropzone.min.css" rel="stylesheet" />
      <!-- Favicon icon-->
<link rel="shortcut icon" type="image/x-icon" href="../images/favicon/favicon.ico">

<!-- C S S L I N K -->
<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.12/cropper.min.css"
/>
<!-- Libs CSS -->
<link href="../libs/bootstrap-icons/font/bootstrap-icons.min.css" rel="stylesheet">
<link href="../libs/feather-webfont/dist/feather-icons.css" rel="stylesheet">
<link href="../libs/simplebar/dist/simplebar.min.css" rel="stylesheet">


<!-- Theme CSS -->
<link rel="stylesheet" href="../css/theme.min.css">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-M8S4MT3EYG"></script>
<script>
   window.dataLayer = window.dataLayer || [];
   function gtag() {
      dataLayer.push(arguments);
   }
   gtag("js", new Date());

   gtag("config", "G-M8S4MT3EYG");
</script>
 <script type="text/javascript">
   (function (c, l, a, r, i, t, y) {
      c[a] =
         c[a] ||
         function () {
            (c[a].q = c[a].q || []).push(arguments);
         };
      t = l.createElement(r);
      t.async = 1;
      t.src = "https://www.clarity.ms/tag/" + i;
      y = l.getElementsByTagName(r)[0];
      y.parentNode.insertBefore(t, y);
   })(window, document, "clarity", "script", "kuc8w5o9nt");
</script>


   </head>

   <body>
      <!-- main wrapper -->

      <!-- navbar -->
<nav class="navbar navbar-expand-lg navbar-glass">
	<div class="container-fluid">
		<div class="d-flex justify-content-between align-items-center w-100">
			<div class="d-flex align-items-center">
				<a class="text-inherit d-block d-xl-none me-4" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
					<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-text-indent-right" viewBox="0 0 16 16">
						<path
							d="M2 3.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5zm10.646 2.146a.5.5 0 0 1 .708.708L11.707 8l1.647 1.646a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708l2-2zM2 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5zm0 3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z"
						/>
					</svg>
				</a>

				<form role="search">
					<input class="form-control" type="search" placeholder="Search" aria-label="Search" />
				</form>
			</div>
			<div>
				<ul class="list-unstyled d-flex align-items-center mb-0 ms-5 ms-lg-0">
					<li class="dropdown ms-4">
						<a href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
							<img src="../images/avatar/avatar-1.jpg" alt="" class="avatar avatar-md rounded-circle" />
						</a>

						<div class="dropdown-menu dropdown-menu-end p-0">
							<div class="lh-1 px-5 py-4 border-bottom">
								<h5 class="mb-1 h6">FreshCart Admin</h5>
								<small>admindemo@email.com</small>
							</div>
							<div class="border-top px-5 py-3">
								<a href="#">Log Out</a>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</nav>

      <div class="main-wrapper">
         <!-- navbar vertical -->
         <!-- navbar -->
<nav class="navbar-vertical-nav d-none d-xl-block">
	<div class="navbar-vertical">
		<div class="px-4 py-5">
			<a href="./adminHome" class="navbar-brand">
				<img src="../images/logo/freshcart-logo.svg" alt="" />
			</a>
		</div>
		<div class="navbar-vertical-content flex-grow-1" data-simplebar="">
			<ul class="navbar-nav flex-column" id="sideNavbar">
				<li class="nav-item">
					<a class="nav-link " href="/admin/adminHome">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-house"></i></span>
							<span class="nav-link-text">Dashboard</span>
						</div>
					</a>
				</li>
				<li class="nav-item mt-6 mb-3">
					<span class="nav-label">Store Managements</span>
				</li>
				<li class="nav-item">
					<a class="nav-link  active " href="./products">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-cart"></i></span>
							<span class="nav-link-text">Products</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="./categories">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-list-task"></i></span>
							<span class="nav-link-text">Categories</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="/admin/order-list">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-bag"></i></span>
							<span class="nav-link-text">Orders</span>
						</div>
					</a>
				</li>

				<li class="nav-item">
					<a class="nav-link " href="./vendor">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-shop"></i></span>
							<span class="nav-link-text">Sellers / Vendors</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="./customers">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-people"></i></span>
							<span class="nav-link-text">Customers</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="/admin/banners">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-people"></i></span>
							<span class="nav-link-text">Banner Management</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/admin/promotion">
					  <div class="d-flex align-items-center">
						<span class="nav-link-icon"><i class="bi bi-people"></i></span>
						<span class="nav-link-text">Promotions</span>
					  </div>
					</a>
				  </li>
				<li class="nav-item">
					<a class="nav-link " href="./reviews">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-star"></i></span>
							<span class="nav-link-text">Reviews</span>
						</div>
					</a>
				</li>
				<!-- Nav item -->

				
			</ul>
		</div>
	</div>
</nav>

<nav class="navbar-vertical-nav offcanvas offcanvas-start navbar-offcanvac" tabindex="-1" id="offcanvasExample">
	<div class="navbar-vertical">
		<div class="px-4 py-5 d-flex justify-content-between align-items-center">
			<a href="./adminHome" class="navbar-brand">
				<img src="../images/logo/freshcart-logo.svg" alt="" />
			</a>
			<button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
		</div>
		<div class="navbar-vertical-content flex-grow-1" data-simplebar="">
			<ul class="navbar-nav flex-column">
				<li class="nav-item">
					<a class="nav-link " href="./adminHome">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-house"></i></span>
							<span>Dashboard</span>
						</div>
					</a>
				</li>
				<li class="nav-item mt-6 mb-3">
					<span class="nav-label">Store Managements</span>
				</li>
				<li class="nav-item">
					<a class="nav-link  active " href="./products">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-cart"></i></span>
							<span class="nav-link-text">Products</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="./categories">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-list-task"></i></span>
							<span class="nav-link-text">Categories</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="/admin/order-list">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-bag"></i></span>
							<span class="nav-link-text">Orders</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="vendor-grid.html">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-shop"></i></span>
							<span class="nav-link-text">Sellers / Vendors</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="./customers">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-people"></i></span>
							<span class="nav-link-text">Customers</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link " href="/admin/banners">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-people"></i></span>
							<span class="nav-link-text">Banner Management</span>
						</div>
					</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="/admin/promotion">
					  <div class="d-flex align-items-center">
						<span class="nav-link-icon"><i class="bi bi-people"></i></span>
						<span class="nav-link-text">Promotions</span>
					  </div>
					</a>
				  </li>
				<li class="nav-item">
					<a class="nav-link " href="./reviews">
						<div class="d-flex align-items-center">
							<span class="nav-link-icon"><i class="bi bi-star"></i></span>
							<span class="nav-link-text">Reviews</span>
						</div>
					</a>
				</li>
				
			</ul>
		</div>
	</div>
</nav>

         <!-- main -->
		 <main class="main-content-wrapper">
  
			<!-- container -->
			<div class="container">
			   <!-- row -->
			   <div class="row mb-8">
				  <div class="col-md-12">
					 <div class="d-md-flex justify-content-between align-items-center">
						<!-- page header -->
						<div>
						   <h2>Add New Product</h2>
						   <!-- breadcrumb -->
						   <nav aria-label="breadcrumb">
							  <ol class="breadcrumb mb-0">
								 <li class="breadcrumb-item"><a href="./adminHome" class="text-inherit">Dashboard</a></li>
								 <li class="breadcrumb-item"><a href="./products" class="text-inherit">Products</a></li>
								 <li class="breadcrumb-item active" aria-current="page">Add New Product</li>
							  </ol>
						   </nav>
						</div>
						<!-- button -->
						<div>
						   <a href="./products" class="btn btn-light">Back to Product</a>
						</div>
					 </div>
				  </div>
			   </div>
			   <!-- row -->
			 
			   <div class="row">
				  
				  <div class="col-lg-8 col-12">
					
					 <!-- card -->
					 <div class="card mb-6 card-lg">
						<!-- card body -->
						<div class="card-body p-6">
						   <h4 class="mb-4 h5">Product Information</h4>
						   <div class="row">
								<input value="<%= productEditingPage._id %>" id="idField" hidden>
							  <!-- input -->
							  <div class="mb-3 col-lg-6">
								 <label class="form-label">Title</label>
								 <input type="text" class="form-control" name="productName" id="productName" value="<%= productEditingPage.productName %>" required />
								 <span id="productName_error" class="text-danger"></span>
							  </div>
							  <span id="product_err" class="text-danger"></span>

							  <div class="mb-3 col-lg-6">
								<label class="form-label">Weight</label>
								<input type="text" class="form-control" placeholder="Weight" name="weight" id="itemWeight" value="<%= productEditingPage.itemWeight %>" required />
								<span id="weight_error" class="text-danger"></span>
							   </div>

							   
							  <!-- input -->
							  <div class="mb-3 col-lg-6">
								 <label class="form-label">Product Category</label>
								 <select class="form-select" id="selectedCategory">
									<option selected><%= productEditingPage.selectedCategory %></option>
									<% categories.forEach(category => { %>
										<option><%= category.categoryName %></option>
									<% }); %>
								 </select>
								 <span id="category_error" class="text-danger"></span>
							  </div>
							  <!-- input -->
							  <div class="mb-3 col-lg-12 mt-5 text-center">
								<h4 class="mb-3 h5">Product images</h4>
								<% productEditingPage.image.forEach((image, index) => { %>
								<div class="image-item">
									<img src="../user/assets/images/productImages/<%= image %>" alt="" class="img-fluid">
									<div>
										<button type="button" class="btn btn-outline-danger btn-sm" onclick="removeImage(this)">Remove</button>
									</div>
								</div>
								<% }) %>
							</div>
							
							
							<div class="mb-3 col-lg-12 mt-3 text-center">
								<input type="file"  class="visually-hidden" name="files" multiple />
    							<button type="button" class="btn btn-outline-primary btn-sm" id="addMoreImagesBtn">Add More Images</button>
								<!-- <button type="button" class="btn btn-outline-primary btn-sm" id="addMoreImagesBtn">Add More Images</button> -->
							</div>

							  <!-- input -->
							  <div class="mb-3 col-lg-12 mt-5">
								 <h4 class="mb-3 h5">Product Descriptions</h4>
								 <div class="py-8" id="editor" data-name="description"><%= productEditingPage.description %></div>
							  </div>
						   </div>
						</div>
					 </div>
				  </div>
				  <div class="col-lg-4 col-12">
					 <!-- card -->
					 <div class="card mb-6 card-lg">
						<!-- card body -->
						<div class="card-body p-6">
						   <div>
							  <!-- input -->
							  <div class="mb-3">
								 <label class="form-label">Product SKU</label>
								 <input type="text" class="form-control" id="stock_keeping_unit" name="productSKU" value="<%= productEditingPage.stockKeepingUnit %>" />
								<span id="stock_error" class="text-danger"></span>
								</div>
						   </div>
						</div>
					 </div>
					 <!-- card -->
					 <div class="card mb-6 card-lg">
						<!-- card body -->
						<div class="card-body p-6">
						   <h4 class="mb-4 h5">Product Price</h4>
						   <!-- input -->
						   <div class="mb-3">
							  <label class="form-label">Regular Price</label>
							  <input type="text" class="form-control" name="regularPrice" id="regular_price" value="<%= productEditingPage.regularPrice %>" />
							  <span id="regular_price_error" class="text-danger"></span>
						   </div>
						   <!-- input -->
						   <div class="mb-3">
							  <label class="form-label">Sale Price</label>
							  <input type="text" class="form-control" name="salePrice" id="sale_price" value="<%= productEditingPage.salePrice %>" />
							  <span id="sale_price_error" class="text-danger"></span>
						   </div>
						</div>
					 </div>
					 <!-- card -->
					 <!-- button -->
					  <span id="image_error" class="text-danger"></span>
					 <div class="d-grid">
						<a id="UpdateProduct" class="btn btn-primary" >Update Product</a>
					 </div>
					 <span class="text-danger" id="response-message"></span>
				 
				  </div>
				 
			   </div>
				
			</div>
		
		</main>
		
      </div>
	  <script>
		function removeImage(buttonElement) {
    var imageDiv = buttonElement.closest('.image-item');
    imageDiv.parentNode.removeChild(imageDiv);
}
	
		function addMoreImages() {
			var imageDiv = document.createElement("div");
			imageDiv.className = "mb-3 col-lg-12 mt-3 text-center";
	
			var imageInput = document.createElement("input");
			imageInput.type = "file";
			imageInput.id = 'imageInput'
			imageInput.className = "form-control visually-hidden"; // Hide the input field
			imageInput.name = "productImages[]"; // Using array to capture multiple images
			imageInput.required = true;
			imageInput.addEventListener("change", function() {
				previewImage(this, imageDiv);
			});
	
			var removeButton = document.createElement("button");
			removeButton.type = "button";
			removeButton.className = "btn btn-outline-danger btn-sm";
			removeButton.textContent = "Remove";
			removeButton.addEventListener("click", ()=>{
				const createdImage = document.getElementById('imageInput')
				const parentElement = createdImage.parentElement

				if(parentElement){
					parentElement.remove()
				}
				
			});
	
			var imagePreview = document.createElement("img");
			imagePreview.className = "preview-image img-fluid";
			imagePreview.style.display = "none";
	
			imageDiv.appendChild(imageInput);
			imageDiv.appendChild(imagePreview);
			imageDiv.appendChild(removeButton);
	
			var addMoreImagesBtn = document.getElementById("addMoreImagesBtn");
			addMoreImagesBtn.parentNode.insertBefore(imageDiv, addMoreImagesBtn);
	
			// Trigger click event of the hidden input field
			imageInput.click();
		}
	
		function previewImage(input, imageDiv) {
			var file = input.files[0];
			var imagePreview = imageDiv.querySelector(".preview-image");
	
			if (file) {
				var reader = new FileReader();
				reader.onload = function(event) {
					imagePreview.src = event.target.result;
					imagePreview.style.display = "block";
				};
				reader.readAsDataURL(file);
			} else {
				imagePreview.src = "";
				imagePreview.style.display = "none";
			}
		}
	
		document.addEventListener("DOMContentLoaded", function() {
			var addMoreImagesBtn = document.getElementById("addMoreImagesBtn");
			addMoreImagesBtn.addEventListener("click", addMoreImages);
		});
	</script>
	
	
	
	

<!-- M O D A L-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
      <!-- Libs JS -->
<!-- <script src="../libs/jquery/dist/jquery.min.js"></script> -->
<script src="../libs/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="../libs/simplebar/dist/simplebar.min.js"></script>

<!-- Theme JS -->
<script src="../js/theme.min.js"></script>

      <script src="../libs/quill/dist/quill.min.js"></script>
      <script src="../js/vendors/editor.js"></script>
      <script src="../libs/dropzone/dist/min/dropzone.min.js"></script>
      <!-- <script src="../js/vendors/dropzone.js"></script> -->
      <script src="../js/updateProduct.js"></script>
   </body>
</html>
